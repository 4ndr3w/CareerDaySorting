<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title> Admin Dashboard </title>
		<script src="../jquery.js"></script>
		<script src="../keyValidator.js"></script>
		<script type="text/javascript">
		function init(){
			sendData("autosort.php","",function(data){// autosort
				$("#autosort-inner").html(data);
			});
			sendData("manageCareers.php","",function(data){// manageCareers
				$("#manageCareers-inner").html(data);
			});
			sendData("resetStudent.php","",function(data){// resetStudent
				$("#resetStudent-inner").html(data);
			});
		};
		function sendData(file,send,done){
			$.ajax({
				type:"POST",
				url:file,
				data:send,
				success:done								
			});
		}

		function runAutosort(){
			var ID ={ run:"pie"};
			sendData("autosort.php",ID,function(data){
				$("#autosort-inner").html(data);
			});
			$("#autosort-inner").html("Loading...Please wait");
		}
		
		function deleteCareer(career){
			var ID = {action:'del', id:career};
			sendData("manageCareers.php",ID, function(data){
				$("#manageCareers-inner").html(data);
			});
			$("#manageCareers-inner").html("Redrawing table");
		}
		
		function addCareer(career){
			var _name =  document.getElementById("name").value;
			var _location = document.getElementById("location").value;
			var _maxStudents = document.getElementById("maxStudents").value;
			var ID = {action:'add',name:_name,location:_location,maxStudents:_maxStudents};
			sendData("manageCareers.php",ID, function(data){
				$("#manageCareers-inner").html(data);
			});
			$("#manageCareers-inner").html("Redrawing table");
		}
		
		function deleteStudent(){
			var _submit = document.getElementById("deleteButton").value;
			var ID = {id:_submit};
			sendData("resetStudent.php", ID, function(data){
				$("#resetStudent-inner").html(data);
			});
			return false;
		}
		</script>
	</head>
	<body onload="init()">
		<div id="container">
			<section id="autosort">
				<h2>Run Autosort</h2>
				<div id="autosort-inner"></div>
			</section>

			<section id="resolveBlacks">

			</section>

			<section id="manageCareers">
				<h2>Manage Careers</h2>
				<div id="manageCareers-inner"></div>
			</section>

			<section id="resetStudent">
				<h2>Reset Student</h2>
				<div id="resetStudent-inner"></div>
			</section>	
		</div>
	</body>
</html>